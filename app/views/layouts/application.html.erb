<!DOCTYPE html>
<html>
<head>
  <title>Jazzfest</title>
  <%= csrf_meta_tags %>
  <script src="https://code.getmdl.io/1.3.0/material.min.js"></script>
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <%= yield :cdn_code %>

  <%= javascript_include_tag '//cdn.auth0.com/js/lock/10.9.1/lock.min.js' %>

  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
  <%= javascript_include_tag "stepper.min", defer: true %>


  <script type="text/javascript">
  window.env = {
    "AUTH0_CLIENT_ID": "<%= ENV['AUTH0_CLIENT_ID'] %>",
    "AUTH0_DOMAIN": "<%= ENV['AUTH0_DOMAIN'] %>",
    "AUTH0_CALLBACK_URL": "<%= ENV['AUTH0_CALLBACK_URL'] %>",
  }
  var lock = new Auth0Lock(window.env.AUTH0_CLIENT_ID, window.env.AUTH0_DOMAIN, {
    auth: {
      redirectUrl: window.env.AUTH0_CALLBACK_URL,
      responseType: 'code',
      params: {
        scope: 'openid' // Learn about scopes: https://auth0.com/docs/scopes
      }
    }, languageDictionary: {
        title: 'Jazzify'
    }, theme: {
      logo: 'http://www.jazzfestivalscanada.ca/wp-content/uploads/TD-Ottawa-Jazz-Festival-logo_2012-1024x683.jpg'
    }
  });
  </script>

</head>
<body>
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
    <header class="mdl-layout__header">
      <div class="mdl-layout__header-row">
        <!-- Title -->
        <span class="mdl-layout-title">Jazzify</span>
        <!-- Add spacer, to align navigation to the right -->
        <div class="mdl-layout-spacer"></div>
        <!-- Navigation. We hide it in small screens. -->
        <nav class="mdl-navigation mdl-layout--large-screen-only">
          <%= render 'layouts/nav_links' %>
        </nav>
      </div>
    </header>
    <div class="mdl-layout__drawer">
      <span class="mdl-layout-title">Jazzify</span>
      <nav class="mdl-navigation">
        <%= render 'layouts/nav_links' %>
      </nav>
    </div>
    <main class="mdl-layout__content">
      <div class="page-content <%= controller_name %> <%= action_name %>"> <%= yield %> </div>
    </main>
  </div>
  <p id="notice"><%= notice %></p>
  <div id="toast" class="mdl-js-snackbar mdl-snackbar">
    <div class="mdl-snackbar__text"></div>
    <button class="mdl-snackbar__action" type="button"></button>
  </div>
</body>
